<html>
  <link href='http://fonts.googleapis.com/css?family=Lato:300,400,700,900' rel='stylesheet' type='text/css'>
  <link href="css/styles.css" rel="stylesheet" type="text/css" />
  <link href="css/component.css" rel="stylesheet" type="text/css" />
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
  <style>
    body{
      font-family: sans-serif;
    }
  </style>
  <body>
    <div class="tray">
      <header class="tray__bar  tray__header">
        <p>TDD Helper</p>
      </header>
      <main class="tray__content">
        <h1>RED</h1>
        <p>Write a faling unit test</p>
        <button class="btn btn-4 btn-4a icon-arrow-right">Next</button>
      </main>
      <footer class="tray__bar  tray__footer">
        <p class="address">http://localhost:8080</p>
        <p class="quit">Quit</p>
      </footer>
    </div>
    <script>
      var gui = require('nw.gui');
      var win = gui.Window.get();
      var $button = $('.btn');

      function haveParent(theParent){
          console.log('came haveParent');
          parentwindowcontrol(theParent);
      }

      function parentwindowcontrol(parentwindow){
          console.log("came parentwindowcontrol");
          $button[0].addEventListener('click', function () {
            parentwindow.window.changeparentmethod();
            win.hide();
          }, false);
      }

      win.on('blur', function() {
        win.hide();
      });
    </script>
  </body>
</html>
